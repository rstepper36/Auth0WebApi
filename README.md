### **README.md**

```markdown
# Auth0 Secured .NET 8 Web API

This is a .NET 8 Web API project that demonstrates how to secure API endpoints using Auth0 with the Client Credentials Flow. The API includes a simple `WeatherForecast` endpoint that is secured using JWT Bearer authentication.

## Prerequisites

- .NET 8 SDK
- Auth0 account (sign up [here](https://auth0.com/signup))

## Setup

### 1. Clone the Repository

```bash
git clone https://github.com/your-username/auth0-secured-webapi.git
cd auth0-secured-webapi
```

### 2. Configure Auth0

1. **Create an API in Auth0**:
   - Log in to your Auth0 dashboard.
   - Navigate to the **APIs** section and click **Create API**.
   - Set the Identifier to `https://myapi.com` or your desired API identifier.

2. **Create a Machine-to-Machine Application**:
   - Navigate to the **Applications** section and create a new Machine-to-Machine Application.
   - Grant the application access to the API you created and ensure the `read:weather` scope is granted.

3. **Update `appsettings.json`**:
   - Copy your Auth0 Domain, Client ID, Client Secret, and API Identifier (Audience) into the `appsettings.json` file.

```json
{
  "Auth0": {
    "Domain": "your-tenant.auth0.com",
    "ClientId": "YOUR_CLIENT_ID",
    "ClientSecret": "YOUR_CLIENT_SECRET",
    "Audience": "https://myapi.com"
  }
}
```

### 3. Install Dependencies

Install the necessary NuGet packages:

```bash
dotnet restore
```

### 4. Run the Application

Start the application using the following command:

```bash
dotnet run
```

The application will be accessible at `https://localhost:5001` by default.

### 5. Test the API

#### Get an Access Token

Use the following `cURL` command to obtain a JWT token from Auth0:

```bash
curl --request POST \
  --url https://your-tenant.auth0.com/oauth/token \
  --header 'content-type: application/json' \
  --data '{
    "client_id":"YOUR_CLIENT_ID",
    "client_secret":"YOUR_CLIENT_SECRET",
    "audience":"https://myapi.com",
    "grant_type":"client_credentials",
    "scope":"read:weather"
  }'
```

#### Access the Secured Endpoint

Use the obtained token to access the `WeatherForecast` endpoint:

```bash
curl --request GET \
  --url https://localhost:5001/weatherforecast \
  --header "Authorization: Bearer YOUR_JWT_TOKEN"
```

### 6. Swagger UI

The API includes integrated Swagger UI, which can be accessed at `https://localhost:5001/swagger`. Use the **Authorize** button to authenticate with the obtained JWT token and test the secured endpoints.

## Project Structure

- **Program.cs**: Configures the API, JWT Bearer authentication, and Swagger.
- **appsettings.json**: Holds the Auth0 configuration (Domain, Client ID, Client Secret, Audience).
- **WeatherForecast.cs**: Defines the `WeatherForecast` record used in the API.

## .NET Core SDK

- **.NET 8**: This project uses .NET 8. Ensure you have the correct SDK version installed.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

```

### **.gitignore**

```gitignore
# Ignore Visual Studio specific files
.vscode/
.vs/
# User-specific files
*.rsuser
*.suo
*.user
*.userosscache
*.sln.docstates

# Auto-generated files
bin/
obj/
publish/
out/

# Logs
*.log

# Crash reports
crash.log

# Build results
*.dll
*.exe
*.app
*.out
*.i*86

# NuGet packages
*.nupkg
# The build output
*.buildlog

# ASP.NET Scaffolding
ScaffoldingReadMe.txt

# EntityFramework migrations
Migrations/

# Ignore configuration files
appsettings.json
appsettings.Development.json
appsettings.Production.json

# Rider-specific files
.idea/
*.sln.iml

# DotNet user-secrets
secrets.json
```

### **Explanation**

- **README.md**: The `README.md` provides detailed instructions on setting up and running the project, including Auth0 configuration, obtaining JWT tokens, and testing the secured API endpoints. It also includes a brief overview of the project's structure and dependencies.

- **.gitignore**: The `.gitignore` file ensures that sensitive files (like `appsettings.json`), build outputs, IDE-specific files, and other temporary files are not committed to the repository. Itâ€™s tailored for a .NET project and includes exclusions for common files generated by Visual Studio, Rider, and the .NET SDK.

By following the instructions in the `README.md` and using the `.gitignore`, your project should be well-documented and ready for collaboration or deployment. If you have any other specific needs or changes, feel free to ask!
